<html>
  <head>
    <title>Tic-Tac-Toe!</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript">
      var spots = {a1:'', a2:'', a3:'',
                   b1:'', b2:'', b3:'',
                   c1:'', c2:'', c3:'' }

      var winningColumns =  [['a1', 'a2', 'a3'],['b1', 'b2', 'b3'],['c1', 'c2', 'c3'],
                            ['a1', 'b1', 'c1'],['a2', 'b2', 'c2'],['a3', 'b3', 'c3'],
                            ['a1', 'b2', 'c3'],['a3', 'b2', 'c1']]

      var playerOne = "Player 1"
      var playerTwo = "Player 2"
      var currentUser = ""

      function greetPlayers() {
        alert("Welcome to Tic-Tac-Toe! Player 1 you are 'X' and Player 2 you are 'O'.  Player 1, you're up, let the game begin!");
        currentUser = playerOne
      }

      function takeTurn(spot){
        if (currentUser == playerOne){
          spots[spot] = 'X';
          $('#' + spot).html('X');
          $('#' + spot).prop('disabled', true);
          if (!checkForWin()){
            true
          }
          currentUser = playerTwo;
        }
        else {
         spots[spot] = 'O';
         $('#' + spot).html('O');
         $('#' + spot).prop('disabled', true);
         if (!checkForWin()){
          true
        }
         currentUser = playerOne;
        }
      }

      function checkForWin(){
        for (var i = 0; i < winningColumns.length; i++){
          if (spots[winningColumns[i][0]] === spots[winningColumns[i][1]] && spots[winningColumns[i][1]] === spots[winningColumns[i][2]] && spots[winningColumns[i][0]] !== ""){
            alert(currentUser + " you win!");
            location.reload();
            return true
          }
        }
        return false
      }

      function displayUser(){
        document.getElementById("whichPlayer").innerHTML = currentUser + " , it's your turn!";
      }

      $(function(){
        greetPlayers();
        $("button").on("click", function(){
          takeTurn($(this).attr('id'));
        });
      });
    </script>
  </head>
  <body>
    <h1>TIC*TAC*TOE</h1>
    <h2><span id="whichPlayer"></span></h2>
    <table onClick="displayUser();">
      <tr>
        <td><button type="button" id="a1">:)</button></td>
        <td><button type="button" id="a2">:)</button></td>
        <td><button type="button" id="a3">:)</button></td>
      </tr>
      <tr>
        <td><button type="button" id="b1">:)</button></td>
        <td><button type="button" id="b2">:)</button></td>
        <td><button type="button" id="b3">:)</button></td>
      </tr>
      <tr>
        <td><button type="button" id="c1">:)</button></td>
        <td><button type="button" id="c2">:)</button></td>
        <td><button type="button" id="c3">:)</button></td>
      </tr>
    </table>
  </body>
</html>
